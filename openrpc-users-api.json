{
  "openrpc": "1.2.6",
  "info": {
    "title": "User Management API",
    "version": "1.0.1",
    "description": "OpenRPC specification for the user CRUD API where method parameters are spread into the JSON-RPC params object."
  },
  "methods": [
    {
      "name": "getUsers",
      "summary": "Retrieve a list of users",
      "params": [],
      "result": {
        "name": "result",
        "schema": { "$ref": "#/components/schemas/GetUsersResult" }
      }
    },
    {
      "name": "getUserById",
      "summary": "Retrieve a user by ID",
      "params": [
        {
          "name": "userId",
          "required": true,
          "schema": { "type": "integer" }
        }
      ],
      "result": {
        "name": "result",
        "schema": { "$ref": "#/components/schemas/GetUserByIdResult" }
      }
    },
    {
      "name": "createUser",
      "summary": "Create a new user",
      "params": [
        {
          "name": "userName",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "userEmail",
          "required": false,
          "schema": { "type": "string", "format": "email" }
        }
      ],
      "result": {
        "name": "result",
        "schema": { "$ref": "#/components/schemas/CreateUserResult" }
      }
    },
    {
      "name": "updateUser",
      "summary": "Update an existing user",
      "params": [
        {
          "name": "userId",
          "required": true,
          "schema": { "type": "integer" }
        },
        {
          "name": "userName",
          "required": false,
          "schema": { "type": "string" }
        },
        {
          "name": "userEmail",
          "required": false,
          "schema": { "type": "string", "format": "email" }
        }
      ],
      "result": {
        "name": "result",
        "schema": { "$ref": "#/components/schemas/UpdateUserResult" }
      }
    },
    {
      "name": "deleteUser",
      "summary": "Delete a user by ID",
      "params": [
        {
          "name": "userId",
          "required": true,
          "schema": { "type": "integer" }
        }
      ],
      "result": {
        "name": "result",
        "schema": { "$ref": "#/components/schemas/DeleteUserResult" }
      }
    }
  ],
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "userId": { "type": "integer" },
          "userName": { "type": "string" },
          "userEmail": { "type": "string", "format": "email" }
        },
        "required": ["userId", "userName"]
      },
      "GetUsersResult": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/User" }
          },
          "totalCount": { "type": "integer" }
        },
        "required": ["data"]
      },
      "GetUserByIdResult": {
        "type": "object",
        "properties": {
          "data": { "$ref": "#/components/schemas/User" }
        },
        "required": ["data"]
      },
      "CreateUserResult": {
        "type": "object",
        "properties": {
          "data": { "$ref": "#/components/schemas/User" }
        },
        "required": ["data"]
      },
      "UpdateUserResult": {
        "type": "object",
        "properties": {
          "data": { "$ref": "#/components/schemas/User" }
        },
        "required": ["data"]
      },
      "DeleteUserResult": {
        "type": "object",
        "properties": {}
      }
    }
  }
}
